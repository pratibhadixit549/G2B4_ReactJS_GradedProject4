{"ast":null,"code":"import _asyncToGenerator from\"E:/Full-Stack-Project/project-movie-app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/Full-Stack-Project/project-movie-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"E:\\\\Full-Stack-Project\\\\project-movie-app\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useEffect,useState}from\"react\";import{Alert,Col,Row}from\"react-bootstrap\";import LoadingIndicator from\"../common/LoadingIndicator\";import{getMovieByTitle}from\"../../services/movies\";import NoDataMatched from\"../global/NoDataMatched\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MoviesDetails=function MoviesDetails(props){var _error$message;var _useState=useState(\"LOADING\"),_useState2=_slicedToArray(_useState,2),status=_useState2[0],setStatus=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),movies=_useState4[0],setMovies=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];useEffect(function(){var fetchMovie=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getMovieByTitle(props.match.params.moviesCategory,props.match.params.path);case 3:data=_context.sent;setMovies(data);setStatus(\"LOADED\");_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);setError(_context.t0);setStatus(\"LOADING_ERROR\");case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function fetchMovie(){return _ref.apply(this,arguments);};}();fetchMovie();},[props.match.params.path,props.match.params.moviesCategory]);var el;switch(status){case\"LOADING\":el=/*#__PURE__*/_jsx(LoadingIndicator,{size:\"large\",message:\"Loading Libraries. Please wait....\"});break;case\"LOADED\":if(movies===null){el=/*#__PURE__*/_jsx(NoDataMatched,{});break;}var _ref2=movies,title=_ref2.title,storyline=_ref2.storyline,poster=_ref2.poster,posterurl=_ref2.posterurl,duration=_ref2.duration,releaseDate=_ref2.releaseDate,actors=_ref2.actors,year=_ref2.year,imdbRating=_ref2.imdbRating,contentRating=_ref2.contentRating,averageRating=_ref2.averageRating,genres=_ref2.genres;if(title===null){el=/*#__PURE__*/_jsx(NoDataMatched,{});break;}var imageClick=function imageClick(){return/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(posterurl),alt:title});};el=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/movies-coming\",children:\"Back To Home\"}),/*#__PURE__*/_jsxs(Row,{className:\"mx-3 my-5 m\",children:[/*#__PURE__*/_jsx(Col,{xs:12,lg:3,className:\"my-3\",children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.REACT_APP_API_BASE_URL,\"/img/\").concat(poster),alt:title,className:\"w-100\",onClick:function onClick(){return imageClick();}})}),/*#__PURE__*/_jsxs(Col,{xs:12,lg:8,className:\"my-3\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h2\",{children:[title,\" (\",year,\")\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-4\",children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{xs:3,children:\"Imdb Rating\"}),/*#__PURE__*/_jsx(Col,{xs:8,children:imdbRating})]}),/*#__PURE__*/_jsxs(Row,{className:\"my-2\",children:[/*#__PURE__*/_jsx(Col,{xs:3,children:\"Content Rating\"}),/*#__PURE__*/_jsx(Col,{xs:8,children:contentRating})]}),/*#__PURE__*/_jsxs(Row,{className:\"my-2\",children:[/*#__PURE__*/_jsx(Col,{xs:3,children:\"Average Rating\"}),/*#__PURE__*/_jsx(Col,{xs:8,children:averageRating})]}),/*#__PURE__*/_jsxs(Row,{className:\"my-2\",children:[/*#__PURE__*/_jsx(Col,{xs:3,children:\"Duration\"}),/*#__PURE__*/_jsx(Col,{xs:8,children:duration})]}),/*#__PURE__*/_jsxs(Row,{className:\"my-2\",children:[/*#__PURE__*/_jsx(Col,{xs:3,children:\"Genres\"}),/*#__PURE__*/_jsx(Col,{xs:8,children:genres.map(function(genres){return/*#__PURE__*/_jsx(\"span\",{className:\"me-2\",children:genres},genres);})})]}),/*#__PURE__*/_jsxs(Row,{className:\"my-2\",children:[/*#__PURE__*/_jsx(Col,{xs:3,children:\"Actors\"}),/*#__PURE__*/_jsx(Col,{xs:8,children:actors.map(function(actors){return/*#__PURE__*/_jsx(\"span\",{className:\"me-2\",children:actors},actors);})})]}),/*#__PURE__*/_jsxs(Row,{className:\"my-2\",children:[/*#__PURE__*/_jsx(Col,{xs:3,children:\"Released Date\"}),/*#__PURE__*/_jsx(Col,{xs:8,children:releaseDate})]}),/*#__PURE__*/_jsxs(Row,{className:\"my-2\",children:[/*#__PURE__*/_jsx(Col,{xs:3,children:\"Story Line\"}),/*#__PURE__*/_jsx(Col,{xs:8,children:storyline})]})]})]})]})]});break;case\"LOADING_ERROR\":var msg=(_error$message=error===null||error===void 0?void 0:error.message)!==null&&_error$message!==void 0?_error$message:'';if((msg===null||msg===void 0?void 0:msg.indexOf(\"404\"))>-1){el=/*#__PURE__*/_jsx(NoDataMatched,{});}else{el=/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error===null||error===void 0?void 0:error.message});}break;}return el;};export default MoviesDetails;","map":{"version":3,"sources":["E:/Full-Stack-Project/project-movie-app/client/src/component/moviesDetails/MoviesDetails.tsx"],"names":["useEffect","useState","Alert","Col","Row","LoadingIndicator","getMovieByTitle","NoDataMatched","Link","MoviesDetails","props","status","setStatus","movies","setMovies","error","setError","fetchMovie","match","params","moviesCategory","path","data","el","title","storyline","poster","posterurl","duration","releaseDate","actors","year","imdbRating","contentRating","averageRating","genres","imageClick","process","env","REACT_APP_API_BASE_URL","map","msg","message","indexOf"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { Alert, Col, Row } from \"react-bootstrap\";\r\nimport { LoadingStatus } from \"../../services/types\";\r\nimport IMovies from \"../../model/IMovies\";\r\nimport LoadingIndicator from \"../common/LoadingIndicator\";\r\nimport { getMovieByTitle } from \"../../services/movies\";\r\nimport NoDataMatched from \"../global/NoDataMatched\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\ntype Props = {\r\n    moviesCategory: string,\r\n    path: string\r\n}\r\nconst MoviesDetails = (props: RouteComponentProps<Props>) => {\r\n    const [status, setStatus] = useState<LoadingStatus>(\"LOADING\")\r\n    const [movies, setMovies] = useState<IMovies | null>(null)\r\n    const [error, setError] = useState<Error | null>(null)\r\n\r\n    useEffect(() => {\r\n        const fetchMovie = async () => {\r\n            try {\r\n                const data = await getMovieByTitle(props.match.params.moviesCategory, props.match.params.path);\r\n                setMovies(data);\r\n                setStatus(\"LOADED\");\r\n            }\r\n            catch (errormsg: any) {\r\n                setError(errormsg)\r\n                setStatus(\"LOADING_ERROR\")\r\n            }\r\n        }\r\n\r\n        fetchMovie();\r\n    }, [props.match.params.path, props.match.params.moviesCategory])\r\n\r\n    let el\r\n\r\n    switch (status) {\r\n        case \"LOADING\":\r\n            el = <LoadingIndicator size=\"large\" message=\"Loading Libraries. Please wait....\" />;\r\n            break;\r\n        case \"LOADED\":\r\n\r\n            if (movies === null) {\r\n                el = (\r\n                    <NoDataMatched />\r\n                );\r\n                break;\r\n            }\r\n\r\n            const { title,\r\n                storyline,\r\n                poster,\r\n                posterurl,\r\n                duration,\r\n                releaseDate,\r\n                actors,\r\n                year,\r\n                imdbRating,\r\n                contentRating,\r\n                averageRating,\r\n                genres } = movies as IMovies;\r\n\r\n            if (title === null) {\r\n                el = (\r\n                    <NoDataMatched />\r\n                );\r\n                break;\r\n            }\r\n\r\n            const imageClick = () => {\r\n                return (\r\n                    <img\r\n                        src={`${posterurl}`}\r\n                        alt={title}\r\n                    />\r\n                );\r\n            };\r\n\r\n            el = (\r\n                <div>\r\n                    <Link to=\"/movies-coming\" >Back To Home</Link>\r\n                    <Row className=\"mx-3 my-5 m\">\r\n                        <Col xs={12} lg={3} className=\"my-3\">\r\n                            <img\r\n                                src={`${process.env.REACT_APP_API_BASE_URL}/img/${poster}`}\r\n                                alt={title}\r\n                                className=\"w-100\"\r\n                                onClick={() => imageClick()}\r\n                            />\r\n                        </Col>\r\n                        <Col xs={12} lg={8} className=\"my-3\">\r\n                            <div>\r\n                                <h2>\r\n                                    {title} ({year})\r\n                                </h2>\r\n                            </div>\r\n                            <div className=\"my-4\">\r\n                                <Row>\r\n                                    <Col xs={3}>\r\n                                        Imdb Rating\r\n                                    </Col>\r\n                                    <Col xs={8}>\r\n                                        {imdbRating}\r\n                                    </Col>\r\n                                </Row>\r\n                                <Row className=\"my-2\">\r\n                                    <Col xs={3}>\r\n                                        Content Rating\r\n                                    </Col>\r\n                                    <Col xs={8}>\r\n                                        {contentRating}\r\n                                    </Col>\r\n                                </Row>\r\n                                <Row className=\"my-2\">\r\n                                    <Col xs={3}>\r\n                                        Average Rating\r\n                                    </Col>\r\n                                    <Col xs={8}>\r\n                                        {averageRating}\r\n                                    </Col>\r\n                                </Row>\r\n                                <Row className=\"my-2\">\r\n                                    <Col xs={3}>\r\n                                        Duration\r\n                                    </Col>\r\n                                    <Col xs={8}>\r\n                                        {duration}\r\n                                    </Col>\r\n                                </Row>\r\n                                <Row className=\"my-2\">\r\n                                    <Col xs={3}>\r\n                                        Genres\r\n                                    </Col>\r\n                                    <Col xs={8}>\r\n                                        {\r\n                                            genres.map(\r\n                                                genres => (\r\n                                                    <span className=\"me-2\"\r\n                                                        key={genres}>\r\n                                                        {genres}\r\n                                                    </span>\r\n                                                )\r\n                                            )\r\n                                        }\r\n                                    </Col>\r\n                                </Row>\r\n                                <Row className=\"my-2\">\r\n                                    <Col xs={3}>\r\n                                        Actors\r\n                                    </Col>\r\n                                    <Col xs={8}>\r\n                                        {\r\n                                            actors.map(\r\n                                                actors => (\r\n                                                    <span className=\"me-2\"\r\n                                                        key={actors}>\r\n                                                        {actors}\r\n                                                    </span>\r\n                                                )\r\n                                            )\r\n                                        }\r\n                                    </Col>\r\n                                </Row>\r\n                                <Row className=\"my-2\">\r\n                                    <Col xs={3}>\r\n                                        Released Date\r\n                                    </Col>\r\n                                    <Col xs={8}>\r\n                                        {releaseDate}\r\n                                    </Col>\r\n                                </Row>\r\n                                <Row className=\"my-2\">\r\n                                    <Col xs={3}>\r\n                                        Story Line\r\n                                    </Col>\r\n                                    <Col xs={8}>\r\n                                        {storyline}\r\n                                    </Col>\r\n                                </Row>\r\n                            </div>\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n            );\r\n            break;\r\n\r\n        case \"LOADING_ERROR\":\r\n            let msg = error?.message ?? '';\r\n\r\n            if (msg?.indexOf(\"404\") > -1) {\r\n                el = (\r\n                    <NoDataMatched />\r\n                )\r\n            } else {\r\n                el = (\r\n                    <Alert variant=\"danger\">\r\n                        {error?.message}\r\n                    </Alert>\r\n                )\r\n            }\r\n            break;\r\n    }\r\n\r\n    return el;\r\n}\r\n\r\nexport default MoviesDetails"]},"metadata":{},"sourceType":"module"}