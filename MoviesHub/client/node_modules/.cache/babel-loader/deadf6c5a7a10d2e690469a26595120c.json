{"ast":null,"code":"import _asyncToGenerator from\"E:/Full-Stack-Project/project-movie-app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"E:\\\\Full-Stack-Project\\\\project-movie-app\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from\"axios\";var basePath=process.env.REACT_APP_API_BASE_URL;var getMovies=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(moviesCategory){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"\".concat(basePath,\"/\").concat(moviesCategory));case 2:response=_context.sent;return _context.abrupt(\"return\",response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getMovies(_x){return _ref.apply(this,arguments);};}();var getMovieByTitle=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(moviesCategory,title){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"\".concat(basePath,\"/\").concat(moviesCategory,\"/?title=\").concat(title));case 2:response=_context2.sent;if(!(response.data===null||response.data.length===0)){_context2.next=5;break;}return _context2.abrupt(\"return\",null);case 5:return _context2.abrupt(\"return\",response.data[0]);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function getMovieByTitle(_x2,_x3){return _ref2.apply(this,arguments);};}();var addMovie=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(moviesCategory,movie){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:return _context3.abrupt(\"return\",axios.post(\"\".concat(basePath,\"/\").concat(moviesCategory),movie,{headers:{\"Content-Type\":\"application/json\"}}).then(function(response){return response.data;}));case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function addMovie(_x4,_x5){return _ref3.apply(this,arguments);};}();var removeMovieById=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(moviesCategory,id){var response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.delete(\"\".concat(basePath,\"/\").concat(moviesCategory,\"/\").concat(id));case 2:response=_context4.sent;return _context4.abrupt(\"return\",response.data);case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function removeMovieById(_x6,_x7){return _ref4.apply(this,arguments);};}();var getHigestMovieId=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(moviesCategory){var _response$data$0$id;var response;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return axios.get(\"\".concat(basePath,\"/\").concat(moviesCategory,\"?_sort=id&_order=desc\"));case 2:response=_context5.sent;if(!(response.data===null||response.data.length===0)){_context5.next=5;break;}return _context5.abrupt(\"return\",0);case 5:return _context5.abrupt(\"return\",(_response$data$0$id=response.data[0].id)!==null&&_response$data$0$id!==void 0?_response$data$0$id:0);case 6:case\"end\":return _context5.stop();}}},_callee5);}));return function getHigestMovieId(_x8){return _ref5.apply(this,arguments);};}();export{getMovies,getMovieByTitle,addMovie,removeMovieById,getHigestMovieId};","map":{"version":3,"sources":["E:/Full-Stack-Project/project-movie-app/client/src/services/movies.ts"],"names":["axios","basePath","process","env","REACT_APP_API_BASE_URL","getMovies","moviesCategory","get","response","data","getMovieByTitle","title","length","addMovie","movie","post","headers","then","removeMovieById","id","delete","getHigestMovieId"],"mappings":"mRAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAGA,GAAMC,CAAAA,QAAQ,CAAGC,OAAO,CAACC,GAAR,CAAYC,sBAA7B,CAEA,GAAMC,CAAAA,SAAS,0FAAG,iBAAOC,cAAP,qJACON,CAAAA,KAAK,CAACO,GAAN,WAAwBN,QAAxB,aAAoCK,cAApC,EADP,QACVE,QADU,+CAETA,QAAQ,CAACC,IAFA,wDAAH,kBAATJ,CAAAA,SAAS,4CAAf,CAKA,GAAMK,CAAAA,eAAe,2FAAG,kBAAOJ,cAAP,CAA+BK,KAA/B,0JACCX,CAAAA,KAAK,CAACO,GAAN,WAClBN,QADkB,aACNK,cADM,oBACmBK,KADnB,EADD,QAChBH,QADgB,qBAIlBA,QAAQ,CAACC,IAAT,GAAkB,IAAlB,EAA0BD,QAAQ,CAACC,IAAT,CAAcG,MAAd,GAAyB,CAJjC,4DAKb,IALa,0CAOfJ,QAAQ,CAACC,IAAT,CAAc,CAAd,CAPe,0DAAH,kBAAfC,CAAAA,eAAe,kDAArB,CAUA,GAAMG,CAAAA,QAAQ,2FAAG,kBAAOP,cAAP,CAA+BQ,KAA/B,uJACRd,KAAK,CACTe,IADI,WACed,QADf,aAC2BK,cAD3B,EAC6CQ,KAD7C,CACoD,CACvDE,OAAO,CAAE,CACP,eAAgB,kBADT,CAD8C,CADpD,EAMJC,IANI,CAMC,SAACT,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAvB,EAND,CADQ,0DAAH,kBAARI,CAAAA,QAAQ,kDAAd,CAUA,GAAMK,CAAAA,eAAe,2FAAG,kBAAOZ,cAAP,CAA+Ba,EAA/B,0JACCnB,CAAAA,KAAK,CAACoB,MAAN,WAClBnB,QADkB,aACNK,cADM,aACYa,EADZ,EADD,QAChBX,QADgB,iDAIfA,QAAQ,CAACC,IAJM,0DAAH,kBAAfS,CAAAA,eAAe,kDAArB,CAOA,GAAMG,CAAAA,gBAAgB,2FAAG,kBAAOf,cAAP,kLACAN,CAAAA,KAAK,CAACO,GAAN,WAClBN,QADkB,aACNK,cADM,0BADA,QACjBE,QADiB,qBAKnBA,QAAQ,CAACC,IAAT,GAAkB,IAAlB,EAA0BD,QAAQ,CAACC,IAAT,CAAcG,MAAd,GAAyB,CALhC,4DAMd,CANc,+DAQhBJ,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBU,EARD,2DAQO,CARP,0DAAH,kBAAhBE,CAAAA,gBAAgB,8CAAtB,CAWA,OACEhB,SADF,CAEEK,eAFF,CAGEG,QAHF,CAIEK,eAJF,CAKEG,gBALF","sourcesContent":["import axios from \"axios\";\r\nimport IMovies from \"../model/IMovies\";\r\n\r\nconst basePath = process.env.REACT_APP_API_BASE_URL;\r\n\r\nconst getMovies = async (moviesCategory: string) => {\r\n  const response = await axios.get<IMovies[]>(`${basePath}/${moviesCategory}`);\r\n  return response.data;\r\n};\r\n\r\nconst getMovieByTitle = async (moviesCategory: string, title: string) => {\r\n  const response = await axios.get<IMovies[]>(\r\n    `${basePath}/${moviesCategory}/?title=${title}`\r\n  );\r\n  if (response.data === null || response.data.length === 0) {\r\n    return null;\r\n  }\r\n  return response.data[0];\r\n};\r\n\r\nconst addMovie = async (moviesCategory: string, movie: IMovies) => {\r\n  return axios\r\n    .post<IMovies[]>(`${basePath}/${moviesCategory}`, movie, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n    .then((response) => response.data);\r\n};\r\n\r\nconst removeMovieById = async (moviesCategory: string, id: string | number) => {\r\n  const response = await axios.delete<IMovies>(\r\n    `${basePath}/${moviesCategory}/${id}`\r\n  );\r\n  return response.data;\r\n};\r\n\r\nconst getHigestMovieId = async (moviesCategory: string) => {\r\n  const response = await axios.get<IMovies[]>(\r\n    `${basePath}/${moviesCategory}?_sort=id&_order=desc`\r\n  );\r\n\r\n  if (response.data === null || response.data.length === 0) {\r\n    return 0;\r\n  }\r\n  return response.data[0].id ?? 0;\r\n};\r\n\r\nexport {\r\n  getMovies,\r\n  getMovieByTitle,\r\n  addMovie,\r\n  removeMovieById,\r\n  getHigestMovieId,\r\n};\r\n"]},"metadata":{},"sourceType":"module"}